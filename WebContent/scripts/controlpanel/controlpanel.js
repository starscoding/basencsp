Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath({"Ext.ux":extDir+"/ux/","Ext.app":eastcom.baseURL+"/scripts/controlpanel/classes/","Ext.components":eastcom.baseURL+"/static/commonjs/components"});Ext.require(["Ext.Viewport","Ext.tip.QuickTipManager","Ext.ux.GroupTabPanel","Ext.app.PortalColumn","Ext.app.PortalDropZone","Ext.app.Portlet","Ext.app.ArgumentsPortlet","Ext.app.StartupPortlet","Ext.app.SecurityMngPortlet","Ext.app.RedisDataPortlet","Ext.app.PortalPanel","Ext.components.BaseDataComboBox"]);Ext.define("Ext.app.ControlPanel",{extend:"Ext.container.Viewport",alias:"widget.controlpanel",doSelect:true,getSysArguments:function(){var a=new Object();$.ajax({url:eastcom.baseURL+"/configurate/getSysArguments",async:false,data:{},type:"post",dataType:"json",success:function(c,d,b){if(c&&c.success=="true"){a=c.data}}});return a},submitForm:function(a,b,d){if(b.isValid()){eastcom.showWaitDialog(saveArgsBtn);var c={type:a};if(d){Ext.apply(c,d)}b.submit({clientValidation:true,url:eastcom.baseURL+"/configurate/updateArgs",params:c,success:function(e,f){eastcom.hideDialog();if(f.result.success=="true"){Ext.example.msg(MSG_TITLE,"{0}",f.result.msg)}},failure:function(e,f){eastcom.hideDialog();switch(f.failureType){case Ext.form.action.Action.CLIENT_INVALID:Ext.Msg.alert("Failure","Form fields may not be submitted with invalid values!");break;case Ext.form.action.Action.CONNECT_FAILURE:Ext.Msg.alert("Failure","Ajax communication failed!");break;case Ext.form.action.Action.SERVER_INVALID:Ext.Msg.alert("Failure",f.result.msg)}}})}},initComponent:function(){var b=this;Ext.getBody().mask(MSG_DATA_LOADING);var a=b.getSysArguments();Ext.apply(this,{layout:"fit",items:[{xtype:"grouptabpanel",activeGroup:0,items:[{expanded:false,items:[{title:CONTROL_SYS_ARGS,iconCls:"x-icon-configuration",style:"padding: 10px;"},{title:CONTROL_STARTUP_ARGS,iconCls:"x-icon-startargs",style:"padding: 10px;",border:false,autoScroll:true,items:{xtype:"argumentsportlet",args:a.startup,submitForm:b.submitForm}},{title:CONTROL_STARTUP2_ARGS,iconCls:"x-icon-startargs",style:"padding: 10px;",border:false,autoScroll:true,items:{xtype:"startupportlet",args:a.startup2,submitForm:b.submitForm}},{title:CONTROL_SECURITY_MNG_ARGS,iconCls:"x-icon-startargs",style:"padding: 10px;",border:false,autoScroll:true,items:{xtype:"securitymngportlet",args:a.security,submitForm:b.submitForm}}]},{expanded:false,items:[{title:CONTROL_REDIS_SERVER,bodyPadding:10,html:redisDescribe,border:false},{title:CONTROL_REDIS_INIT,iconCls:"x-icon-initredis",style:"padding: 10px;",border:false,autoScroll:true,layout:"fit",items:{xtype:"redisDataPortlet"}}]}]}],listeners:{afterlayout:function(d,f){if(b.doSelect){var c=b.down("treepanel"),e=b.down("grouptabpanel");c.getSelectionModel().select(1);e.setActiveGroup(1);b.doSelect=false}}}});Ext.getBody().unmask();this.callParent()}});var redisDescribe=CONTROL_REDIS_DESC;Ext.onReady(function(){Ext.create("Ext.app.ControlPanel")});