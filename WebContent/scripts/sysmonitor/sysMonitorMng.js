Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath("Ext.ux",extDir+"/ux");Ext.Loader.setPath("Ext.components",eastcom.baseURL+"/static/commonjs/components");Ext.Loader.setPath("Ext.monitor",eastcom.baseURL+"/scripts/sysmonitor/components");Ext.require(["Ext.grid.*","Ext.data.*","Ext.ux.RowExpander","Ext.view.View","Ext.ux.DataView.DragSelector","Ext.ux.DataView.LabelEditor","Ext.components.BaseDataComboBox","Ext.components.DateTimeField","Ext.monitor.*"]);eastcom.modules.sysMonitorMng=(function(){var af=new Date(new Date()-1*60*60*1000);var d='<span style="color:red;font-weight:bold" data-qtip="Required">*</span>';var h=Ext.util.Format.date(af,"Y-m-d H:i");var z=Ext.util.Format.date(new Date(),"Y-m-d H:i");var o=null;var aJ=null;var U=null;var a={};Ext.define("ServerModel",{extend:"Ext.data.Model",fields:[{name:"text"},{name:"serverId"},{name:"type"},{name:"imageUrl"},{name:"monitorValue"}]});Ext.define("SysMonitorLogCpu",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"remark",type:"string"}]});var m=Ext.create("Ext.data.Store",{id:"monitorlogCpu",model:"SysMonitorLogCpu",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogCpu",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogMem",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"remark",type:"string"}]});var av=Ext.create("Ext.data.Store",{id:"monitorlogMem",model:"SysMonitorLogMem",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogMem",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogDisk",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"diskHome",type:"string"},{name:"value",type:"string"},{name:"remark",type:"string"}]});var aS=Ext.create("Ext.data.Store",{id:"monitorlogDisk",model:"SysMonitorLogDisk",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogDisk",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogNet",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"networkCardIp",type:"string"},{name:"valueReceive",type:"string"},{name:"valueSend",type:"string"},{name:"remark",type:"string"}]});var ai=Ext.create("Ext.data.Store",{id:"monitorlogNet",model:"SysMonitorLogNet",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogNet",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogIo",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"diskName",type:"string"},{name:"value",type:"string"},{name:"remark",type:"string"}]});var E=Ext.create("Ext.data.Store",{id:"monitorlogIo",model:"SysMonitorLogIo",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogIo",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogLoadaverage",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"value1",type:"string"},{name:"value5",type:"string"},{name:"value15",type:"string"},{name:"remark",type:"string"}]});var t=Ext.create("Ext.data.Store",{id:"monitorlogLoadaverage",model:"SysMonitorLogLoadaverage",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogLoadaverage",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogProc",{extend:"Ext.data.Model",fields:[{name:"mappingId",type:"object"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"procInfo",type:"string"},{name:"remark",type:"string"}]});var ak=Ext.create("Ext.data.Store",{id:"monitorlogProc",model:"SysMonitorLogProc",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogProc",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogMq",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"type",type:"string"},{name:"remark",type:"string"}]});var ax=Ext.create("Ext.data.Store",{id:"monitorlogMq",model:"SysMonitorLogMq",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogMq",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogCache",{extend:"Ext.data.Model",fields:[{name:"id",type:"object"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"type",type:"string"},{name:"remark",type:"string"}]});var ar=Ext.create("Ext.data.Store",{id:"monitorlogCache",model:"SysMonitorLogCache",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogCache",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogDatabase",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"type",type:"string"},{name:"remark",type:"string"}]});var ae=Ext.create("Ext.data.Store",{id:"monitorlogDatabase",model:"SysMonitorLogDatabase",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogDatabase",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogEsm",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"time",type:"string"},{name:"name",type:"string"},{name:"value",type:"string"},{name:"remark",type:"string"}]});var ap=Ext.create("Ext.data.Store",{id:"monitorlogEsm",model:"SysMonitorLogEsm",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogEsm",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorLogFunc",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"time",type:"string"},{name:"value",type:"string"},{name:"name",type:"string"},{name:"remark",type:"string"}]});var V=Ext.create("Ext.data.Store",{id:"monitorlogFunc",model:"SysMonitorLogFunc",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryMonitorLogFunc",reader:{type:"json",idProperty:"oid",root:"data.elements",totalProperty:"data.total"},actionMethods:{read:"POST"},timeout:180000}});Ext.define("SysMonitorE",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"mappingId",type:"string"},{name:"name",type:"string"},{name:"time",type:"string"},{name:"instanceName",type:"string"},{name:"value",type:"string"},{name:"alarmThreshold",type:"string"},{name:"alarmLevel",type:"string"},{name:"alarmInfo",type:"string"},{name:"remark",type:"string"}]});var aw=Ext.create("Ext.data.TreeStore",{autoLoad:true,autoSync:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/findServerByTreeView",reader:{type:"json",root:"data"}},sorters:[{property:"leaf",direction:"ASC"}],root:{text:"所有资源",expanded:true}});var l=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:MONITOR_VALUE,sortable:false,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];var at=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:MONITOR_USE_KIND,sortable:false,dataIndex:"type",align:"center"},{text:MONITOR_VALUE,sortable:false,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];var a4=Ext.create("Ext.data.Store",{model:"ServerModel",autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/findServerViewData",reader:{type:"json",idProperty:"oid",root:"data"}}});var aQ=Ext.create("Ext.data.Store",{id:"monitorNStore2",model:"SysMonitorE",pageSize:eastcom.pageSize,autoLoad:true,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmonitor/queryRealTimeOverSysMonitorList",reader:{type:"json",idProperty:"oid",root:"data"},actionMethods:{read:"POST"},timeout:180000}});var aO=Ext.create("Ext.tree.TreePanel",{region:"west",autoScroll:true,rootVisible:true,title:"资源树图",border:false,animate:true,lines:true,store:aw,width:300,listeners:{itemclick:function(a9,bb){if(bb.data.depth=="3"){var bg=bb.data.id;var bi=bg.split("#");var bj=bi[0].split("@");var bd=bj[0];var bh=bj[1];var bc=bi[1].split("@");var bf=bc[0];var be=bc[1];if(bh=="0"){if(be=="0"){m.load({params:{id:bd,startTime:h,endTime:z}});R(bd,h,z);Ext.getCmp("log-cpu-view").removeAll();Ext.getCmp("log-cpu-view").items.add(k(bd));Ext.getCmp("log-cpu-view").items.add(a6(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(1)}else{if(be=="1"){av.load({params:{id:bd,startTime:h,endTime:z}});Q(bd,h,z);Ext.getCmp("log-mem-view").removeAll();Ext.getCmp("log-mem-view").items.add(G(bd));Ext.getCmp("log-mem-view").items.add(w(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(2)}else{if(be=="2"){aS.load({params:{id:bd,startTime:h,endTime:z}});O(bd,h,z);Ext.getCmp("log-disk-view").removeAll();Ext.getCmp("log-disk-view").items.add(C(bd));Ext.getCmp("log-disk-view").items.add(y(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(3)}else{if(be=="3"){ai.load({params:{id:bd,startTime:h,endTime:z}});N(bd,h,z);Ext.getCmp("log-net-view").removeAll();Ext.getCmp("log-net-view").items.add(az(bd));Ext.getCmp("log-net-view").items.add(ag(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(4)}else{if(be=="4"){E.load({params:{id:bd,startTime:h,endTime:z}});M(bd,h,z);Ext.getCmp("log-io-view").removeAll();Ext.getCmp("log-io-view").items.add(ay(bd));Ext.getCmp("log-io-view").items.add(ab(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(5)}else{if(be=="5"){t.load({params:{id:bd,startTime:h,endTime:z}});L(bd,h,z);Ext.getCmp("log-loadaverage-view").removeAll();Ext.getCmp("log-loadaverage-view").items.add(ac(bd));Ext.getCmp("log-loadaverage-view").items.add(B(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(6)}}}}}}}else{if(bh=="1"){ak.load({params:{id:bf,startTime:h,endTime:z}});Ext.getCmp("log-proc-view").removeAll();Ext.getCmp("log-proc-view").items.add(P(bf));Ext.getCmp("log-proc-view").items.add(v(bf));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(7)}else{if(bh=="2"){ae.load({params:{id:bf,startTime:h,endTime:z}});K(bf,h,z);Ext.getCmp("log-database-view").removeAll();Ext.getCmp("log-database-view").items.add(a8(bf));Ext.getCmp("log-database-view").items.add(aL(bf));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(8)}else{if(bh=="3"){ax.load({params:{id:bf,startTime:h,endTime:z}});F(bf,h,z);Ext.getCmp("log-ibmmq-view").removeAll();Ext.getCmp("log-ibmmq-view").items.add(p(bf));Ext.getCmp("log-ibmmq-view").items.add(aY(bf));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(11)}else{if(bh=="4"){ar.load({params:{id:bd,startTime:h,endTime:z}});aV(bd,h,z);Ext.getCmp("log-cache-view").removeAll();Ext.getCmp("log-cache-view").items.add(S(bd));Ext.getCmp("log-cache-view").items.add(u(bd));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(12)}else{if(bh=="5"){ap.load({params:{id:bf,startTime:h,endTime:z}});Ext.getCmp("log-esm-view").removeAll();Ext.getCmp("log-esm-view").items.add(x(bf));Ext.getCmp("log-esm-view").items.add(f(bf));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(9)}else{if(bh=="6"){V.load({params:{id:bf,startTime:h,endTime:z}});Ext.getCmp("log-func-view").removeAll();Ext.getCmp("log-func-view").items.add(ad(bf));Ext.getCmp("log-func-view").items.add(J(bf));Ext.getCmp("images-view").doLayout();Ext.getCmp("images-view").getLayout().setActiveItem(10)}}}}}}}}else{if(bb.data.depth=="2"){a4.load({params:{id:bb.data.id}});aQ.load({params:{id:bb.data.id}});Ext.getCmp("images-view").getLayout().setActiveItem(0)}else{if(bb.data.depth=="1"){var ba=bb.data.id;var bc=ba.split("#");var bh=bc[1];a4.load({params:{type:bh}});aQ.load({params:{type:bh}});Ext.getCmp("images-view").getLayout().setActiveItem(0)}else{a4.load();Ext.getCmp("images-view").getLayout().setActiveItem(0)}}}}}});var q=Ext.create("Ext.view.View",{store:a4,tpl:['<tpl for=".">','<div class="thumb-wrap" id="{oid:stripTags}" style="float:left;margin-right:20px;">','<div class="thumb"><img src="{imageUrl}" title="{monitorValue:htmlEncode}"></div>','<span class="x-editable" style="text-align:center;">{text:htmlEncode}</span>',"</div>","</tpl>",'<div class="x-clear"></div>'],multiSelect:true,fit:true,trackOver:true,overItemCls:"x-item-over",itemSelector:"div.thumb-wrap",emptyText:"No images to display",plugins:[Ext.create("Ext.ux.DataView.DragSelector",{}),Ext.create("Ext.ux.DataView.LabelEditor",{dataIndex:"text"})],prepareData:function(a9){return a9},listeners:{selectionchange:function(bb,a9){console.log(a9);if(a9.length>0){if(a9[0].data.serverId!=""){var ba=a9[0].data.serverId;a4.load({params:{id:ba}});aQ.load({params:{id:ba}})}}}}});var I=Ext.create("Ext.grid.Panel",{region:"south",store:aQ,height:125,columnLines:true,tbar:["资源告警列表",{xtype:"tbfill"},{icon:"../../static/images/default/refresh.png",tooltip:"刷新",handler:function(){a4.load();aQ.load()}}],columns:[{text:INSTANCE_NAME,flex:1,dataIndex:"instanceName",sortable:false,align:"center",renderer:g},{text:MONITOR_NAME,flex:1,sortable:false,dataIndex:"name",minWidth:250},{text:MONITOR_EDIT_TIME,flex:1,sortable:false,dataIndex:"time",minWidth:250},{text:MONITOR_VALUE_THR,sortable:false,flex:1,dataIndex:"value",align:"center"},{text:MONITOR_THRESHOLD,flex:1,dataIndex:"alarmThreshold",sortable:false,align:"center"},{text:MONITOR_ALARM_LEVEL,flex:1,dataIndex:"alarmLevel",sortable:false,renderer:n,align:"center"},{text:MONITOR_EXCEPTION,flex:1,dataIndex:"alarmInfo",sortable:false,align:"center"},{text:MONITOR_REMARK,flex:1,dataIndex:"remark",sortable:false,align:"center"}],animCollapse:false});function g(bc,ba,a9,be){var bd=a9.get("id");var bb=a9.get("mappingId");return'<a style="cursor: pointer;color:blue;text-decoration:underline;" onclick="monitorHistoryInfo(\''+bd+"','"+bb+"')\">"+bc+"</a>"}function X(bc,ba){var bb=Ext.getCmp("monitorHistoryInfoWin");if(bb){bb.close()}var a9=Ext.create("Ext.monitor.monitorHistoryInfoWin");a9.show(undefined,function(){a9.load({id:bc,mappingId:ba,startTime:h,endTime:z})})}function n(ba,a9){if(ba=="1"){a9.style="background-color:#FF0000";return"一级"}else{if(ba=="2"){a9.style="background-color:#FF8000";return"二级"}else{if(ba=="3"){a9.style="background-color:#FFFF00";return"三级"}else{return"正常"}}}}function k(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT0",endTimeField:{id:"endT0"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT0",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT0",name:"endT0",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT0"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT0").getValue();var bb=Ext.getCmp("endT0").getValue();Ext.getStore("monitorlogCpu").load({params:{id:ba,startTime:bc,endTime:bb}});R(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT0").setValue("");Ext.getCmp("endT0").setValue("")}}]});return a9}function a6(ba){var a9=new Ext.Panel({region:"center",id:"monitorStatisticsD",layout:"card",height:document.body.scrollHeight-220,activeItem:0,items:[{tbar:["CPU使用率统计",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorStatisticsD").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorStatisticsD").getLayout().setActiveItem(1);Ext.getStore("monitorlogCpu").load({params:{id:ba,startTime:Ext.getCmp("startT0").getValue(),endTime:Ext.getCmp("endT0").getValue()}})}}],id:"chart00",border:false,xtype:"panel",html:'<div id="chart00Container" style="height:100%;"></div>'},e(ba)]});return a9}function e(ba){var a9=Ext.create("Ext.grid.Panel",{id:"monitorStatisticsDGrid",store:m,tbar:["CPU使用率日志列表",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorStatisticsD").getLayout().setActiveItem(0);R(ba,Ext.getCmp("startT0").getValue(),Ext.getCmp("endT0").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorStatisticsD").getLayout().setActiveItem(1)}}],colModel:l,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function R(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aK(bb)}function aK(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor0",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;a7(bb,"chart00Container","line")}else{}Ext.getBody().unmask()},failure:function(ba,bb){Ext.getBody().unmask()}})}function a7(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:60,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value} %"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}var aH=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:MONITOR_VALUE,sortable:false,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];function G(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT1",endTimeField:{id:"endT1"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT1",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT1",name:"endT1",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT1"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT1").getValue();var bb=Ext.getCmp("endT1").getValue();Ext.getStore("monitorlogMem").load({params:{id:ba,startTime:bc,endTime:bb}});Q(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT1").setValue("");Ext.getCmp("endT1").setValue("")}}]});return a9}function w(ba){var a9=new Ext.Panel({region:"center",id:"monitorLogMemPanel",layout:"card",activeItem:0,height:document.body.scrollHeight-220,items:[{tbar:["内存使用率统计",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogMemPanel").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogMemPanel").getLayout().setActiveItem(1);Ext.getStore("monitorlogMem").load({params:{id:ba,startTime:Ext.getCmp("startT1").getValue(),endTime:Ext.getCmp("endT1").getValue()}})}}],id:"chart01",border:false,xtype:"panel",html:'<div id="chart01Container" style="height:100%;"></div>'},aP(ba)]});return a9}function aP(ba){var a9=Ext.create("Ext.grid.Panel",{id:"monitorStatisticsDGrid1",store:av,tbar:["内存使用率日志列表",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogMemPanel").getLayout().setActiveItem(0);Q(ba,Ext.getCmp("startT1").getValue(),Ext.getCmp("endT1").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogMemPanel").getLayout().setActiveItem(1)}}],colModel:aH,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function Q(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aI(bb)}function aI(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor1",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;a5(bb,"chart01Container","line")}else{}Ext.getBody().unmask()},failure:function(ba,bb){Ext.getBody().unmask()}})}function a5(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:60,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value} %"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}var au=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:DISK_HOME,sortable:false,dataIndex:"diskHome",align:"center"},{text:MONITOR_VALUE,sortable:false,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];function C(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT2",endTimeField:{id:"endT2"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT2",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT2",name:"endT2",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT2"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT2").getValue();var bb=Ext.getCmp("endT2").getValue();Ext.getStore("monitorlogDisk").load({params:{id:ba,startTime:bc,endTime:bb}});O(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT2").setValue("");Ext.getCmp("endT2").setValue("")}}]});return a9}function y(ba){var a9=new Ext.Panel({region:"center",id:"monitorLogDiskPanel",layout:"card",activeItem:0,height:document.body.scrollHeight-220,items:[{tbar:["磁盘使用率统计",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogDiskPanel").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogDiskPanel").getLayout().setActiveItem(1);Ext.getStore("monitorlogDisk").load({params:{id:ba,startTime:Ext.getCmp("startT2").getValue(),endTime:Ext.getCmp("endT2").getValue()}})}}],id:"chart02",border:false,xtype:"panel",html:'<div id="chart02Container" style="height:100%;"></div>'},T(ba)]});return a9}function T(ba){var a9=Ext.create("Ext.grid.Panel",{id:"monitorStatisticsDGrid2",store:aS,tbar:["磁盘使用率日志列表",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogDiskPanel").getLayout().setActiveItem(0);O(ba,Ext.getCmp("startT2").getValue(),Ext.getCmp("endT2").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogDiskPanel").getLayout().setActiveItem(1);s}}],colModel:au,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function O(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aG(bb)}function aG(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor2",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;a3(bb,"chart02Container","line")}else{}Ext.getBody().unmask()},failure:function(ba,bb){Ext.getBody().unmask()}})}function a3(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:60,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value} %"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}var aa=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:NETWORK_CARD_IP,sortable:false,dataIndex:"networkCardIp",align:"center"},{text:NET_VALUE_RECEIVE,sortable:false,dataIndex:"valueReceive",align:"center"},{text:NET_VALUE_SEND,sortable:false,dataIndex:"valueSend",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];function az(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT3",endTimeField:{id:"endT3"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT3",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT3",name:"endT3",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT3"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT3").getValue();var bb=Ext.getCmp("endT3").getValue();Ext.getStore("monitorlogNet").load({params:{id:ba,startTime:bc,endTime:bb}});N(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT3").setValue("");Ext.getCmp("endT3").setValue("")}}]});return a9}function ag(ba){var a9=new Ext.Panel({region:"center",id:"monitorLogNetPanel",layout:"card",activeItem:0,height:document.body.scrollHeight-220,items:[{tbar:["网络流量统计",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogNetPanel").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogNetPanel").getLayout().setActiveItem(1);Ext.getStore("monitorlogNet").load({params:{id:ba,startTime:Ext.getCmp("startT3").getValue(),endTime:Ext.getCmp("endT3").getValue()}})}}],id:"chart03",border:false,xtype:"panel",html:'<div id="chart03Container" style="height:100%;"></div>'},A(ba)]});return a9}function A(ba){var a9=Ext.create("Ext.grid.Panel",{id:"monitorStatisticsDGrid3",store:ai,tbar:["网络流量日志列表",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogNetPanel").getLayout().setActiveItem(0);N(ba,Ext.getCmp("startT3").getValue(),Ext.getCmp("endT3").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogNetPanel").getLayout().setActiveItem(1)}}],colModel:aa,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function N(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aF(bb)}function aF(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor3",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;a2(bb,"chart03Container","line")}else{}Ext.getBody().unmask()},failure:function(bb,bc){var ba=Ext.JSON.decode(bb.responseText);Ext.getBody().unmask()}})}function a2(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName,a9.lineName1]},tooltip:{trigger:"item"},grid:{x:95,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value} KB/s"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)},{name:a9.lineName1,type:bb,data:ba(a9.valueList1)}]};be.setOption(bf)})}var aq=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:DISK_NAME,sortable:false,dataIndex:"diskName",align:"center"},{text:VALUE_READ,sortable:false,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];function ay(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT4",endTimeField:{id:"endT4"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT4",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT4",name:"endT4",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT4"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT4").getValue();var bb=Ext.getCmp("endT4").getValue();Ext.getStore("monitorlogIo").load({params:{id:ba,startTime:bc,endTime:bb}});M(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT4").setValue("");Ext.getCmp("endT4").setValue("")}}]});return a9}function ab(ba){var a9=new Ext.Panel({region:"center",id:"monitorLogIoPanel",layout:"card",activeItem:0,height:document.body.scrollHeight-220,items:[{tbar:["系统负载均衡统计",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogIoPanel").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogIoPanel").getLayout().setActiveItem(1);Ext.getStore("monitorlogIo").load({params:{id:ba,startTime:Ext.getCmp("startT4").getValue(),endTime:Ext.getCmp("endT4").getValue()}})}}],id:"chart04",border:false,xtype:"panel",html:'<div id="chart04Container" style="height:100%;"></div>'},aM(ba)]});return a9}function aM(ba){var a9=Ext.create("Ext.grid.Panel",{id:"monitorStatisticsDGrid4",store:E,tbar:["系统负载均衡日志列表",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogIoPanel").getLayout().setActiveItem(0);L(ba,Ext.getCmp("startT4").getValue(),Ext.getCmp("endT4").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogIoPanel").getLayout().setActiveItem(1)}}],colModel:aq,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function M(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aE(bb)}function aE(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor4",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;a1(bb,"chart04Container","line")}else{}Ext.getBody().unmask()},failure:function(bb,bc){var ba=Ext.JSON.decode(bb.responseText);Ext.getBody().unmask()}})}function a1(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:50,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value} "}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}var H=[{text:MONITOR_CREATETIME,sortable:false,dataIndex:"time"},{text:MONITOR_LOADAVERAGE_1,sortable:false,dataIndex:"value1",align:"center"},{text:MONITOR_LOADAVERAGE_5,sortable:false,dataIndex:"value5",align:"center"},{text:MONITOR_LOADAVERAGE_15,sortable:false,dataIndex:"value15",align:"center"},{text:MONITOR_REMARK,sortable:false,dataIndex:"remark",align:"center"}];function ac(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT5",endTimeField:{id:"endT5"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT5",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT5",name:"endT5",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT5"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT5").getValue();var bb=Ext.getCmp("endT5").getValue();Ext.getStore("monitorlogLoadaverage").load({params:{id:ba,startTime:bc,endTime:bb}});L(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT5").setValue("");Ext.getCmp("endT5").setValue("")}}]});return a9}function B(ba){var a9=new Ext.Panel({region:"center",id:"monitorLogLoadaveragePanel",layout:"card",activeItem:0,height:document.body.scrollHeight-220,items:[{tbar:["系统负载均衡统计",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogLoadaveragePanel").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogLoadaveragePanel").getLayout().setActiveItem(1);Ext.getStore("monitorlogLoadaverage").load({params:{id:ba,startTime:Ext.getCmp("startT5").getValue(),endTime:Ext.getCmp("endT5").getValue()}})}}],id:"chart05",border:false,xtype:"panel",html:'<div id="chart05Container" style="height:100%;"></div>'},aU(ba)]});return a9}function aU(ba){var a9=Ext.create("Ext.grid.Panel",{id:"monitorStatisticsDGrid5",store:t,tbar:["系统负载均衡日志列表",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("monitorLogLoadaveragePanel").getLayout().setActiveItem(0);L(ba,Ext.getCmp("startT5").getValue(),Ext.getCmp("endT5").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("monitorLogLoadaveragePanel").getLayout().setActiveItem(1)}}],colModel:H,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function L(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aD(bb)}function aD(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor5",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;a0(bb,"chart05Container","line")}else{}Ext.getBody().unmask()},failure:function(bb,bc){var ba=Ext.JSON.decode(bb.responseText);Ext.getBody().unmask()}})}function a0(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName,a9.lineName1,a9.lineName2]},tooltip:{trigger:"item"},grid:{x:50,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value}"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)},{name:a9.lineName1,type:bb,data:ba(a9.valueList1)},{name:a9.lineName2,type:bb,data:ba(a9.valueList2)}]};be.setOption(bf)})}function P(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT6",endTimeField:{id:"endT6"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT6",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT6",name:"endT6",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT6"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT6").getValue();var bb=Ext.getCmp("endT6").getValue();Ext.getStore("monitorlogProc").load({params:{id:ba,startTime:bc,endTime:bb}})}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT6").setValue("");Ext.getCmp("endT6").setValue("")}}]});return a9}function v(ba){var a9=Ext.create("Ext.grid.Panel",{region:"center",tbar:Ext.create("Ext.toolbar.Toolbar",{items:["进程日志列表"]}),id:"sysMonitorServerProcGrid",store:ak,columnLines:true,autoScroll:true,height:document.body.scrollHeight-220,columns:[{text:MONITOR_CREATETIME,sortable:false,width:200,dataIndex:"time"},{text:MONITOR_VALUE_THR,sortable:false,width:200,dataIndex:"value",align:"center"},{text:PROC_INFO,sortable:false,width:200,dataIndex:"procInfo",align:"center"},{text:MONITOR_REMARK,sortable:false,width:200,dataIndex:"remark",align:"center"}]});return a9}function a8(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT7",endTimeField:{id:"endT7"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT7",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT7",name:"endT7",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT7"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT7").getValue();var bb=Ext.getCmp("endT7").getValue();Ext.getStore("monitorlogDatabase").load({params:{id:ba,startTime:bc,endTime:bb}});K(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT7").setValue("");Ext.getCmp("endT7").setValue("")}}]});return a9}function aL(ba){var a9=new Ext.Panel({region:"center",id:"sysMonitorServerDatabaseGrid",layout:"card",height:document.body.scrollHeight-220,activeItem:0,items:[{tbar:["数据库监控图表",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("sysMonitorServerDatabaseGrid").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("sysMonitorServerDatabaseGrid").getLayout().setActiveItem(1);Ext.getStore("monitorlogDatabase").load({params:{id:ba,startTime:Ext.getCmp("startT7").getValue(),endTime:Ext.getCmp("endT7").getValue()}})}}],id:"chart07",border:false,xtype:"panel",html:'<div id="chart07Container" style="height:100%;"></div>'},Y(ba)]});return a9}function Y(ba){var a9=Ext.create("Ext.grid.Panel",{id:"MonitorServerDatabaseGrid",store:ae,tbar:["数据库监控统计",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("sysMonitorServerDatabaseGrid").getLayout().setActiveItem(0);K(ba,Ext.getCmp("startT7").getValue(),Ext.getCmp("endT7").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("sysMonitorServerDatabaseGrid").getLayout().setActiveItem(1)}}],colModel:at,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function K(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aB(bb)}function aB(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor7",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;aZ(bb,"chart07Container","line")}else{}Ext.getBody().unmask()},failure:function(bb,bc){var ba=Ext.JSON.decode(bb.responseText);Ext.getBody().unmask()}})}function aZ(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:50,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value}"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}function x(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT8",endTimeField:{id:"endT8"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT8",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT8",name:"endT8",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT8"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT8").getValue();var bb=Ext.getCmp("endT8").getValue();Ext.getStore("monitorlogEsm").load({params:{id:ba,startTime:bc,endTime:bb}})}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT8").setValue("");Ext.getCmp("endT8").setValue("")}}]});return a9}function f(ba){var a9=Ext.create("Ext.grid.Panel",{region:"center",tbar:Ext.create("Ext.toolbar.Toolbar",{items:["接口调用日志列表"]}),id:"sysMonitorServerEsmGrid",store:ap,height:document.body.scrollHeight-220,columnLines:true,autoScroll:true,columns:[{text:MONITOR_CREATETIME,sortable:false,width:200,dataIndex:"time"},{text:MONITOR_NAME,sortable:false,width:200,dataIndex:"name",align:"center"},{text:MONITOR_VALUE_THR,sortable:false,width:200,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,width:200,dataIndex:"remark",align:"center"}]});return a9}function ad(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT9",endTimeField:{id:"endT9"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT9",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT9",name:"endT9",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT9"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT9").getValue();var bb=Ext.getCmp("endT9").getValue();Ext.getStore("monitorlogFunc").load({params:{id:ba,startTime:bc,endTime:bb}})}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT9").setValue("");Ext.getCmp("endT9").setValue("")}}]});return a9}function J(ba){var a9=Ext.create("Ext.grid.Panel",{region:"center",tbar:Ext.create("Ext.toolbar.Toolbar",{items:["功能日志列表"]}),id:"sysMonitorServerFuncGrid",store:V,height:document.body.scrollHeight-220,columnLines:true,autoScroll:true,columns:[{text:MONITOR_CREATETIME,sortable:false,width:200,dataIndex:"time"},{text:MONITOR_NAME,sortable:false,width:200,dataIndex:"name",align:"center"},{text:MONITOR_VALUE_THR,sortable:false,width:200,dataIndex:"value",align:"center"},{text:MONITOR_REMARK,sortable:false,width:200,dataIndex:"remark",align:"center"}]});return a9}function p(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT10",endTimeField:{id:"endT10"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT10",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT10",name:"endT10",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT10"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT10").getValue();var bb=Ext.getCmp("endT10").getValue();Ext.getStore("monitorlogMq").load({params:{id:ba,startTime:bc,endTime:bb}});F(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT10").setValue("");Ext.getCmp("endT10").setValue("")}}]});return a9}function aY(ba){var a9=new Ext.Panel({region:"center",id:"sysMonitorServerIBMMqGrid",layout:"card",height:document.body.scrollHeight-220,activeItem:0,items:[{tbar:["MQ 监控图表",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("sysMonitorServerIBMMqGrid").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("sysMonitorServerIBMMqGrid").getLayout().setActiveItem(1);Ext.getStore("monitorlogMq").load({params:{id:ba,startTime:Ext.getCmp("startT10").getValue(),endTime:Ext.getCmp("endT10").getValue()}})}}],id:"chart10",border:false,xtype:"panel",html:'<div id="chart10Container" style="height:100%;"></div>'},aj(ba)]});return a9}function aj(ba){var a9=Ext.create("Ext.grid.Panel",{id:"MonitorServerMqGrid",store:ax,tbar:["MQ监控统计",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("sysMonitorServerIBMMqGrid").getLayout().setActiveItem(0);F(ba,Ext.getCmp("startT10").getValue(),Ext.getCmp("endT10").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("sysMonitorServerIBMMqGrid").getLayout().setActiveItem(1)}}],colModel:at,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function F(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};aA(bb)}function aA(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor8",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;aX(bb,"chart10Container","line")}else{}Ext.getBody().unmask()},failure:function(bb,bc){var ba=Ext.JSON.decode(bb.responseText);Ext.getBody().unmask()}})}function aX(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:50,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value}"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}function S(ba){var a9=Ext.create("Ext.panel.Panel",{region:"north",padding:"0 0 5 0",height:50,layout:"hbox",bodyPadding:10,defaults:{labelAlign:"right",labelWidth:80,width:250,msgTarget:"side"},items:[{fieldLabel:"开始时间",xtype:"datetimefield",id:"startT11",endTimeField:{id:"endT11"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},name:"startT11",emptyText:MSG_CHOOSE_ONE,labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:h,anchor:"95%"},{fieldLabel:"结束时间",xtype:"datetimefield",id:"endT11",name:"endT11",emptyText:MSG_CHOOSE_ONE,startTimeField:{id:"startT11"},timeConfig:{dateFmt:"yyyy-MM-dd HH:mm"},labelAlign:"right",allowBlank:false,afterLabelTextTpl:d,value:z,anchor:"100%"},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-search",width:60,text:BUTTON_SEARCH,handler:function(){var bc=Ext.getCmp("startT11").getValue();var bb=Ext.getCmp("endT11").getValue();Ext.getStore("monitorlogCache").load({params:{id:ba,startTime:bc,endTime:bb}});aV(ba,bc,bb)}},{xtype:"button",style:"margin-left:20px",formBind:true,iconCls:"icon-refresh",width:70,text:BUTTON_RESET,handler:function(){Ext.getCmp("startT11").setValue("");Ext.getCmp("endT11").setValue("")}}]});return a9}function u(ba){var a9=new Ext.Panel({region:"center",id:"sysMonitorServerCacheGrid",layout:"card",height:document.body.scrollHeight-220,activeItem:0,items:[{tbar:["Redis 监控图表",{xtype:"tbfill"},{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("sysMonitorServerCacheGrid").getLayout().setActiveItem(0)}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("sysMonitorServerCacheGrid").getLayout().setActiveItem(1);Ext.getStore("monitorlogCache").load({params:{id:ba,startTime:Ext.getCmp("startT11").getValue(),endTime:Ext.getCmp("endT11").getValue()}})}}],id:"chart11",border:false,xtype:"panel",html:'<div id="chart11Container" style="height:100%;"></div>'},b(ba)]});return a9}function b(ba){var a9=Ext.create("Ext.grid.Panel",{id:"MonitorServerCacheGrid",store:ar,tbar:["Redis监控统计",{xtype:"tbfill"},"-",{icon:"../../static/images/default/chart_line.png",tooltip:"查看图表",handler:function(){Ext.getCmp("sysMonitorServerCacheGrid").getLayout().setActiveItem(0);aV(ba,Ext.getCmp("startT10").getValue(),Ext.getCmp("endT10").getValue())}},"-",{icon:"../../static/images/default/data_list_num.png",tooltip:"查看表格数据",handler:function(){Ext.getCmp("sysMonitorServerCacheGrid").getLayout().setActiveItem(1)}}],colModel:at,autoScroll:true,autoShow:true,stripeRows:true,border:false,forceFit:true});return a9}function aV(bc,ba,a9){var bb={id:bc,startTime:ba,endTime:a9};j(bb)}function j(a9){Ext.getBody().mask(MSG_DATA_LOADING);Ext.Ajax.request({url:eastcom.baseURL+"/sysmonitor/queryChartMonitor12",method:"POST",timeout:30000,params:a9,success:function(bc,bd){var ba=Ext.JSON.decode(bc.responseText);if(ba.success=="true"){var bb=ba.data.module;Z(bb,"chart11Container","line")}else{}Ext.getBody().unmask()},failure:function(bb,bc){var ba=Ext.JSON.decode(bb.responseText);Ext.getBody().unmask()}})}function Z(bc,bd,bb){var ba=function(bg){var bf=[];for(var be in bg){bf.push(bg[be])}return bf};var a9=JSON.parse(bc);require(["echarts","echarts/chart/bar","echarts/chart/line"],function(bg){var be=bg.init(document.getElementById(bd),"macarons");var bf={legend:{padding:5,itemGap:10,data:[a9.lineName]},tooltip:{trigger:"item"},grid:{x:50,y:30,x2:20,y2:50},xAxis:[{type:"category",data:ba(a9.nameList)}],yAxis:[{type:"value",boundaryGap:[0,0.1],splitNumber:5,axisLabel:{formatter:"{value}"}}],series:[{name:a9.lineName,type:bb,data:ba(a9.valueList)}]};be.setOption(bf)})}var aT=Ext.create("Ext.Panel",{region:"center",id:"log-cpu-view",items:[]});var D=Ext.create("Ext.Panel",{region:"center",id:"log-mem-view",items:[]});var W=Ext.create("Ext.Panel",{region:"center",id:"log-disk-view",items:[]});var aR=Ext.create("Ext.Panel",{region:"center",id:"log-net-view",items:[]});var ao=Ext.create("Ext.Panel",{region:"center",id:"log-io-view",items:[]});var aC=Ext.create("Ext.Panel",{region:"center",id:"log-loadaverage-view",items:[]});var aN=Ext.create("Ext.Panel",{region:"center",id:"log-proc-view",items:[]});var an=Ext.create("Ext.Panel",{region:"center",id:"log-database-view",items:[]});var i=Ext.create("Ext.Panel",{region:"center",id:"log-esm-view",items:[]});var am=Ext.create("Ext.Panel",{region:"center",id:"log-func-view",items:[]});var al=Ext.create("Ext.Panel",{region:"center",id:"log-ibmmq-view",items:[]});var ah=Ext.create("Ext.Panel",{region:"center",id:"log-cache-view",items:[]});var aW=Ext.create("Ext.Panel",{region:"center",id:"images-view",title:"资源列表",layout:"card",activeItem:0,items:[q,aT,D,W,aR,ao,aC,aN,an,i,am,al,ah]});function r(){a4.load();aQ.load()}function c(){Ext.create("Ext.Viewport",{id:"main_component",layout:{type:"border",padding:5},items:[aO,aW,I]})}return{initComponent:c,timedCount:r,initMonitorHistoryInfo:X}})();