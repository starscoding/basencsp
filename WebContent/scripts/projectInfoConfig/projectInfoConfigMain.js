Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath("Ext.projectConfig",eastcom.baseURL+"/scripts/projectInfoConfig/components");eastcom.modules.projectInfoConfig=(function(){var d="login/default/index.jsp";var a=function(){var g=null;Ext.Ajax.request({url:eastcom.baseURL+"/projectInfo-unAuth/getLoginPageConfig",params:{types:"ULM"},async:false,success:function(i){var h=Ext.JSON.decode(i.responseText);if(h.success=="true"){g=h.data}else{Ext.msg.alert("加载数据失败...")}}});return g};var c=function(){var i=a();var h=i.customLoginPageURL;var g=Ext.create("Ext.panel.Panel",{title:"参数配置",bodyStyle:"overflow-y : auto;overflow-x : hidden",loadMainConfig:function(j){var k=this;Ext.each(j,function(n,m){var l=k.down("[name="+n.name+"]");if(l){l.setValue(n.value)}})},listeners:{afterrender:function(){this.loadMainConfig(i.mainPageConfig)}},items:[{xtype:"fieldset",margin:5,collapsible:true,title:"登录页面配置",defaults:{margin:5},items:[{layout:"column",border:false,items:[{boxLabel:"系统默认",name:"loginPageSel",checked:h==d,xtype:"radiofield",id:"radio1",width:100,listeners:{change:function(j,k){Ext.getCmp("loginConfBtn").setDisabled(!k)}}},{xtype:"button",id:"loginConfBtn",text:"配置",disabled:h!=d,handler:function(){var j=Ext.create("Ext.projectConfig.LoginPageConfig",{title:"默认登录页配置",closable:true,config:i,hidden:h!=d});Ext.getCmp("mainTab").add(j).show()}}]},{layout:"column",border:false,items:[{boxLabel:"自定义",name:"loginPageSel",checked:h!=d,xtype:"radiofield",id:"radio2",width:100,listeners:{change:function(j,k){Ext.getCmp("customLoginPageURL").setDisabled(!k)}}},{xtype:"textfield",id:"customLoginPageURL",disabled:h==d,allowBlank:false,labelWidth:100,width:300,value:h}]}]},{xtype:"fieldset",margin:5,collapsible:true,title:"主界面配置",defaults:{xtype:"textfield",width:400,labelWidth:100,margin:5},items:[{fieldLabel:"标题信息",name:"mainFootInfo",allowBlank:false},{fieldLabel:"底部信息",name:"mainTitle",allowBlank:false},{fieldLabel:"头部图片地址",name:"mainHeadBackImg",allowBlank:false}]}],buttonAlign:"center",buttons:[{text:"保存",id:"saveBtn",handler:function(){var j=this.ownerCt.ownerCt;e(j)}},{text:"重置"}]});return g};function e(h){var l=Ext.getCmp("customLoginPageURL").getValue();var k=h.down("[name=mainHeadBackImg]").getValue();var j=h.down("[name=mainTitle]").getValue();var g=h.down("[name=mainFootInfo]").getValue();var i=null;if(l==d){}}var f=Ext.create("Ext.tab.Panel",{id:"mainTab",enableTabScroll:true,title:"项目界面配置",items:[c()]});function b(){Ext.create("Ext.Viewport",{layout:{type:"fit",padding:5},items:[f]})}return{initComponent:b}})();