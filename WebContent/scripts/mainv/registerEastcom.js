define(["leftmenu","menuitem","./tab","./utils"],function(c,h,f,b){var d={};var g={image:null,isShowDesktop:"0",isWebpage:"1",kind:"0",order:0,pid:"",status:"1",childs:[]};var a=function(i){i.menu=h.create($.extend({},g,i));f.add(i)};$.extend(d,{permissionsData:[],permissionObjects:{},syncIframeHeight:function(i){i=i||$("#tabs-iframe-cnt > div.active > iframe")[0];if(i){i.style.height=($(i.contentWindow.document.documentElement).outerHeight(true)>$(i.contentWindow.document.documentElement)[0].scrollHeight?$(i.contentWindow.document.documentElement).outerHeight(true):$(i.contentWindow.document.documentElement)[0].scrollHeight)+"px"}},tonggleLeftTree:function(j,i){c.tonggle(j,i)},createTab:function(p,n,j,i,m,l,k,o){if(!n&&!j&&!i&&!m){a(p)}else{a({id:p,name:j,nameCn:n,location:i,forceRefresh:o,closable:l})}},closeTab:function(i){f.close(i)},getTab:function(i){return f.getTab(i)},getCurrentTab:function(){return f.getCurrent()},showMsg:function(j,k,i){b.showMsg(j,k,i===true?true:false)}});var e=function(){window.Eastcom=d};e.initPermissionData=function(k){var j={};var i=function(l){if(!l||!l.length){return}$.each(l,function(n,o){if(o.isWebPage()){var m={};if(o.childs.length){$.each(o.childs,function(p,q){m[q.name]=true})}j[o.name]=m}i(o.childs)});d.permissionObjects=j};i(k)};return e});