(function(){var a={containerId:"tabs_container",tabContainerObj:null,userInfo:null,tabs:{},modules:{},firstMenuPid:"",permissionsData:[],pageMenuData:[],menuTopN:5,tabsNum:10,timeBeforeMenuAutoHide:-1,theme:currentUserTheme,showNotice:true,showDesktopInWindow:true,showHistoryVisitedPanel:true,showUserGuide:false,desktopInfo:{id:"desktop_iframe",name:"desktop_iframe",src:"personaldesktop/desktop.jsp"},defaultTabInfo:{id:"default_page",name:"default_iframe",nameCn:"Portal门户",src:"/pages/portal/portal.jsp",closeable:false},baseURL:b(),hidePanel:function(c){if(c!=undefined){var d=$(c).is(":visible");if(d){$(c).hide()}}},initTabContainer:function(d){var c=null;c=new a.modules.TabContainer("tabs_container","tabs_left_scroll","tabs_right_scroll","center","funcbar_left");c.initContainer(d);a.tabContainerObj=c},createTab:function(e,k,c,d,o,l,i,n){if(l==undefined){l=true}if(i==undefined){i=true}if(n==undefined){n=false}var h=this.parseURL(d);var g=h.length;if(g>0){var m=this.getParam(h,"project");if(m=="ecip"){d=b()+"/ecipVisitor?path="+d}}this.tabContainerObj.addTab(e,k,c,d,l,i,n,function(p){EastcomMenu.logUserVisiteMenuTimes(p)});a.modules.main.resizeLayout();var j=EastcomMenu.isExistMenudata(e);if(!j){EastcomMenu.specialMenu.push({id:e,pid:"",name:c,nameCn:k,url:d})}var f=jQuery("#funcbar #funcbar_left span");if(d.indexOf("target=newWindow")==-1){if(o==null){EastcomMenu.showMenuPath(e,f,function(){a.modules.main.linkPathEvent()})}else{f.html(o)}}},getTabContainerObj:function(){return this.tabContainerObj},closeTab:function(c){var c=(c&&c.length)?c:this.getCurrentTabId();this.tabContainerObj.closeTab(c)},getCurrentTabId:function(){var d=$("#tabs_container > div.selected"),e="";if(d&&d.length){var c=d.attr("id");if(c&&c.length&&"tabs_default_page"!=c){e=c.substring(c.indexOf("_")+1)}}return e},resizeTabContainer:function(){this.tabContainerObj.resizeContainer()},createMenuTree:function(e,i,h,c,g,d,j,f){EastcomMenu.readyMenuTree(e,i,h,c,g,d,j,f,function(l){if(l.status==3){return}if(l.isWebpage==1){a.createTab(l.id,l.nameCn,l.name,l.location,null,true,true);var k=$("#north_right div.nav_center ul li");EastcomMenu.hideMenu("menu-panel");EastcomMenu.hideMenu("menuContent");k.unbind("hover")}})},parseURL:function(d){var e=/(\w+)=(\w+)/ig;var c=[];d.replace(e,function(g,f,h){c.push({key:f,value:h})});return c},getParam:function(e,d){var c="";if($.isArray(e)){$(e).each(function(f,g){if(g.key==d){c=g.value;return false}})}return c},getRandomParam:function(c,d,f){var e="";$.ajax({url:a.baseURL+"/loginExtension/getRandomVisitedInfo",async:false,type:"post",data:{menuId:c,project:f},dataType:"json",success:function(h,i,g){if(h){e+=h.ip+d+"&menuid="+c+"&random="+h.random+"&sessionid="+h.sessionid}}});return e},delRandomParam:function(c){$.ajax({url:a.baseURL+"/loginExtension/deleteRandomByPageId",type:"post",data:{menuId:c},dataType:"json",success:function(e,f,d){if(e){}}})},isIP:function(d){var c=/^[0-9.]{1,20}$/;if(!c.exec(d)){return false}return true},sprintf:function(d){var e=d.split("%s");if(e.length==1||e.length!=arguments.length){return d}d=e[0];for(var c=1;c<e.length;c++){d+=arguments[c]+e[c]}return d},getSysArguments:function(){var c=new Object();$.ajax({url:a.baseURL+"/configurate/getSysArguments",async:false,type:"post",dataType:"json",data:{type:"startup"},success:function(e,f,d){if(e&&e.success=="true"){c=e.data.startup}}});return c}};window.Eastcom=a;function b(){var f="";var g=document.getElementsByTagName("head")[0];var c=g.childNodes;for(var e=0;e<c.length;++e){var h=c.item(e).src;if(h){var d=h.indexOf("/scripts/index.js");if(d>=0){f=h.substring(0,d)}}}return f}})();