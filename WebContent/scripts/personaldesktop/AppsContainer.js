var AppsContainer=function(c){var m=[];var l=null;var e=false;var p=function(){o()};var f=function(){$(window).resize(function(){o()})};var o=function(){var q=n()+"px";$(c.iconContainer+" .screen li.block").css({"margin-left":q,"margin-right":q})};var n=function(){var s=$(document.body).outerWidth(true);var r=120*c.rowAppNum;if(s>r){var q=Math.floor((s-r-70*2)/16)}else{var q=0}return q};var i=function(q){l=$(c.iconContainer).slideBox({count:q.length,cancel:".block",obstacle:"200",touchDevice:false,control:c.controlId,listeners:{afterScroll:function(r){if(Desktop.appBox.isShow()){Desktop.appBox.refreshCurrentList()}},beforeScroll:function(r){$(c.backgroundClass).stop().animate({},"normal")}}});$.each(q||[],function(r,t){var s=new AppPage(t);l.getScreen(r).append(s.getDom());m[r]=s})};var d=function(){return k(l.getCursor())};var k=function(q){return l.getScreen(q).find("ul").data("appPage")};var a=function(r){var q=l.getCount();$.ajax({type:"POST",dataType:"json",data:{order:q},url:eastcom.baseURL+"/desktop/addUserDesktop",success:function(t){if(t.success=="true"){l.addScreen();var s={id:t.data,order:q,items:[]};var u=new AppPage(s);l.getScreen(q).append(u.getDom());m[q]=u;l.scroll(q);if(typeof(r)=="function"){r(s)}}}})};var j=function(r,s){var q=typeof(r)=="string"?r:r.getData().id;$.ajax({type:"POST",dataType:"json",data:{desktopId:q},url:eastcom.baseURL+"/desktop/deleteDesktopAndResource",success:function(u){if(u.success=="true"){var t=0;$.each(m,function(v,w){if(w.getData().id==q){t=v;return false}});m.splice(t,1);s()}}})};var h=function(){if(!e&&l.getCursor()>0){e=true;l.pageUp(function(){e=false})}};var g=function(){if(!e&&l.getCursor()<l.getCount()){onFlex=true;l.pageDown(function(){e=false})}};var b=function(){return m};p();this.loadData=i;this.pageUp=h;this.pageDown=g;this.getCurrentPage=d;this.getPage=k;this.addNewPage=a;this.removePage=j;this.getSlideBox=function(){return l}};