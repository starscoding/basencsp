Ext.Loader.setConfig({enabled:true});Ext.Loader.setPath("Ext.portletfactory",eastcom.baseURL+"/scripts/portal/portletfactory");Ext.Loader.setPath("Ext.notify","../../scripts/sysmng/notify/components");Ext.define("Ext.gadgets.gadgetsDemo1",{extend:"Ext.portletfactory.PortalItem",reload:function(){var a=this;a.getEl().mask("正在加载数据,请稍候...");a.down("grid[name=userGrid]").getStore().load()},initComponent:function(){var b=this;Ext.define("User",{extend:"Ext.data.Model",fields:[{name:"id",type:"string"},{name:"userName",type:"string"},{name:"fullName",type:"string"},{name:"accountEnabled",type:"string"},{name:"userLevel",type:"string"},{name:"creator",type:"string"},{name:"accoutCreateTime",type:"string"},{name:"accoutExpiredStarttime",type:"string"},{name:"accoutExpiredEndtime",type:"string"}]});var a=Ext.create("Ext.grid.Panel",{name:"userGrid",fit:true,border:false,autoHeight:true,columnLines:true,enableColumnHide:eastcom.enableColumnHide,store:Ext.create("Ext.data.Store",{model:"User",pageSize:eastcom.pageSize,autoLoad:false,proxy:{type:"ajax",url:eastcom.baseURL+"/sysmng/security/queryUser",reader:{type:"json",root:"data.elements",totalProperty:"data.total"},extraParams:{},actionMethods:{read:"POST"},timeout:180000},listeners:{load:function(d,c){if(b.getEl()){b.getEl().unmask()}}}}),columns:[{text:"用户名",width:150,sortable:true,dataIndex:"userName"},{text:"中文名称",sortable:true,dataIndex:"fullName",width:120,align:"center"},{text:"是否可用",dataIndex:"accountEnabled",width:80,align:"center"},{text:"用户级别",dataIndex:"userLevel",width:120,align:"center"},{text:"创建者",dataIndex:"creator",width:100,align:"center"},{text:"账户创建时间",dataIndex:"accoutCreateTime",flex:1,minWidth:140,align:"center"},{text:"账户有效期开始时间",dataIndex:"accoutExpiredStarttime",flex:1,minWidth:140,align:"center"},{text:"账户有效期结束时间",dataIndex:"accoutExpiredEndtime",flex:1,minWidth:140,align:"center"}],viewConfig:{loadMask:true}});b.items=[a];this.callParent()}});