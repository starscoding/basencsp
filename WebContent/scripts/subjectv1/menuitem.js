define(["./utils"],function(a){var b=0,d={};var c=function(h){var e=this;var f=h.childs,g=[];delete (h.childs);if(f&&f.length){$.each(f,function(j,l){var k=c.create(l);k.parent=e;g.push(k)})}e.childs=g;if(a.isNotBlank(h.id)&&!d["menu-"+h.id]){e.__id="menu-"+h.id}else{e.__id="menu-"+(b++)}$.extend(e,h)};$.extend(c.prototype,{hasChildNodes:function(){return this.childs&&this.childs.length},isPermission:function(){return this.kind=="1"},isMenu:function(){return !this.isPermission()},isWebPage:function(){return this.isWebpage=="1"},getDom:function(){return $("#"+this.getId())},isDisabled:function(){return(this.location.indexOf("disabled=true")!=-1||this.status==3)},isEnable:function(){return !this.isDisabled()},isHot:function(){return this.location.indexOf("hot=true")!=-1},isNew:function(){return this.location.indexOf("new=true")!=-1},getId:function(){return this.__id},isStoped:function(){return this.status=="0"||this.status=="2"}});c.create=function(e){var f=new c(e);d[f.getId()]=f;return f};c.findMenu=function(e){return d[e]};return c});