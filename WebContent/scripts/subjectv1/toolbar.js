define(["./userinfo","./userslist","config"],function(f,a,d){var g={getBar:function(){return $("#toolbar")},getBtn:function(h){return $("#"+h+"-btn")},getFoot:function(){return $("#foot")}};var e={"go-top":function(){$("body,html").animate({scrollTop:0},200)},"user-info":function(){f.toggle()},logout:function(){location.href=eastcom.baseURL+"/logout"},"users-list":function(){a.toggle()},"user-guide":function(){location.href=eastcom.baseURL+"/userguide/download"}};var b={};var c=function(){var i=g.getBar(),j=g.getBtn("go-top"),h=g.getFoot().height();j.hide();$.each(e,function(k,l){g.getBtn(k).on("click",l)});$(window).scroll(function(p){var o=$(window).scrollTop(),k=$(document).height(),m=$(window).height(),n=i.height(),l=i.position().top;if(o>65){j.stop(true,true).fadeIn(500)}else{j.stop(true,true).fadeOut(500)}if(k-(o+m)<h){i.css({bottom:h-(k-(o+m))})}else{i.css({bottom:0})}})};b.init=function(){if(d.showToolbar===true){var h=g.getBar().removeClass("hide");if($.browser.msie||($.browser.mozilla&&$.browser.version=="11.0")){h.css({right:"20px"})}c();f.init();a.init()}};return b});