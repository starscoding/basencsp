var ContextMenu=function(c,g){var d=null;var f=null;var b=[];this.setEventDom=function(k){f=k};this.getEventDom=function(){return f};var i=function(){if(c&&c.length){d=$('<div class="contextMenu"></div>');$.each(c,function(k,l){a(l)});d.bind("contextmenu",function(){return false});$("body").append(d);d.hide()}};var a=function(l){var k=$('<div class="contextMenuItem"><a class="'+l.iconCls+'"></a>'+l.name+"</div>");k.bind("click",function(){if(typeof(l.fn)=="function"){l.fn()}});k.hover(function(){k.addClass("contextMenuHover")},function(){k.removeClass("contextMenuHover")});b.push(k);d.append(k)};var j=function(l,k){if(l==null){l=[];for(var m=0;m<b.length;m++){l.push(m)}}$.each(l,function(p,o){var n=b[o];if(n){if(k){n.show()}else{n.hide()}}})};var h=function(m,l){var k=b.length==0;if(!k){$.each(b,function(n,o){if($(o).css("display")=="block"){k=true}});if(!k){return false}}d.css({left:m+2,top:l+2});d.show();$(document).one("click",function(){e()})};var e=function(){d.hide()};i();this.show=h;this.setMenuItemsAvaliable=j};